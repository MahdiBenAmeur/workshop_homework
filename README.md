```json
{
  "readme": "# MiniBank: A Simple In-Memory Bank Simulator\n\n## Project Overview\n\nThis project implements \"MiniBank\", a straightforward, in-memory bank simulation system designed to showcase core banking functionalities. It allows users to perform essential operations such as opening accounts, managing deposits, withdrawals, and transfers, and maintaining a detailed transaction history. The state of the bank (all accounts and transactions) can be persistently saved to and loaded from a JSON file, ensuring data integrity across sessions.\n\nAn interactive command-line interface (REPL) provides a user-friendly way to interact with the bank simulator, enabling real-time management of bank operations.\n\n### Key Features:\n\n*   **Monetary Precision:** All financial calculations are handled using Python's `Decimal` type to prevent floating-point inaccuracies, with values consistently rounded to two decimal places using `ROUND_HALF_UP`.\n*   **Immutable Transactions:** All transaction records (`Tx` objects) are immutable once created, ensuring a reliable and auditable history of financial movements.\n*   **Unique Identifiers:** Accounts and transactions are assigned unique, sequential string identifiers (e.g., `A000001`, `T000001`).\n*   **Atomic Persistence:** The bank's state is saved atomically to a JSON file using a temporary file mechanism, minimizing the risk of data corruption during save operations.\n*   **Comprehensive Validation:** Operations include basic validations for positive amounts, sufficient funds, active account status, and currency matching for transfers.\n*   **User-Friendly REPL:** An interactive command-line interface provides clear commands, immediate feedback, and graceful error handling through custom exceptions.\n*   **UTC Timestamping:** All accounts and transactions are timestamped in UTC (ISO 8601 format) for consistency and global compatibility.\n\n## Project Structure\n\nThe project is organized as follows:\n\n```\n.\n├── test_files/\n│   └── test_bank_simulator.py\n├── Bank_Simulator.py\n├── README.md\n└── minibank.json\n```\n\n*   `Bank_Simulator.py`:\n    This is the core application file. It contains all the classes and functions required for the bank simulation, including account management (`Account` class), transaction handling (`Tx` class), unique ID generation (`Counter` class), the central bank logic (`Bank` class), and the interactive command-line interface (`repl` function). It also includes the `load` and `save` functions for JSON persistence.\n\n*   `test_files/test_bank_simulator.py`:\n    This file contains a comprehensive suite of unit and integration tests written using `pytest`. It covers the functionality of `Bank_Simulator.py`, including helper functions, account and transaction logic, ID generation, the `Bank` class's core operations, data persistence (save/load), display functions, and the `repl`'s behavior.\n\n*   `minibank.json`:\n    This is the default file used by the `Bank_Simulator.py` to persist the bank's state. If the file doesn't exist when the simulator starts, a new empty bank will be initialized. The file is created or updated automatically when the bank's state is saved (either explicitly via the `save` command or implicitly when exiting the REPL).\n\n## Setup / Installation\n\n### Prerequisites\n\n*   Python 3.8 or newer\n\n### Installation Steps\n\n1.  **Clone the repository (or download the project files):**\n\n    ```bash\n    git clone https://github.com/your-username/MiniBank.git  # Replace with actual repo URL if available\n    cd MiniBank\n    ```\n\n2.  **Install dependencies (for testing):**\n    The core `Bank_Simulator.py` application uses only Python's standard library. However, to run the provided test suite, you will need `pytest`:\n\n    ```bash\n    pip install pytest\n    ```\n\n## Usage\n\n### Running the Bank Simulator\n\nTo start the interactive MiniBank simulator, execute the `Bank_Simulator.py` file from your terminal:\n\n```bash\npython Bank_Simulator.py\n```\n\nYou will be presented with the `MiniBank>` prompt, ready to accept commands.\n\n### Available Commands in the REPL\n\nBelow are the primary commands you can use within the MiniBank REPL:\n\n*   `open <owner_name> <currency> [initial_deposit]`\n    *   Opens a new bank account. `initial_deposit` is optional and defaults to `0.00`.\n    *   Examples:\n        *   `open Alice USD 100`\n        *   `open Bob EUR`\n\n*   `accounts`\n    *   Lists all active accounts, showing their ID, owner, currency, and current balance.\n\n*   `deposit <account_id> <amount>`\n    *   Deposits the specified `amount` into the given `account_id`.\n    *   Example: `deposit A000001 50.75`\n\n*   `withdraw <account_id> <amount>`\n    *   Withdraws the specified `amount` from the given `account_id`. Requires sufficient funds.\n    *   Example: `withdraw A000001 25`\n\n*   `transfer <source_account_id> <destination_account_id> <amount>`\n    *   Transfers `amount` from the `source_account_id` to the `destination_account_id`. Both accounts must exist, be active, and have the same currency.\n    *   Example: `transfer A000001 A000002 30`\n\n*   `txs [account_id] [limit]`\n    *   Lists transactions. Transactions are displayed in reverse chronological order (most recent first).\n    *   Optional arguments:\n        *   `account_id`: Filters transactions for a specific account.\n        *   `limit`: Limits the number of transactions shown.\n    *   Examples:\n        *   `txs` (Lists all transactions)\n        *   `txs A000001` (Lists transactions for account A000001)\n        *   `txs 5` (Lists the 5 most recent transactions)\n        *   `txs A000001 3` (Lists the 3 most recent transactions for A000001)\n\n*   `save`\n    *   Explicitly saves the current state of the bank to the `minibank.json` file. The bank state is also automatically saved when exiting the REPL via `quit` or `exit`.\n\n*   `help`\n    *   Displays a list of all available commands and their basic usage.\n\n*   `quit` or `exit`\n    *   Saves the bank's state and gracefully exits the simulator.\n\n### Example REPL Session\n\n```\nMiniBank> open Alice USD 100\nAccount A000001 opened for Alice with initial deposit of 100.00 USD.\nMiniBank> open Bob USD\nAccount A000002 opened for Bob with initial balance 0.00 USD.\nMiniBank> accounts\nA000001: Alice (USD) - Balance: 100.00\nA000002: Bob (USD) - Balance: 0.00\nMiniBank> deposit A000002 50\nDeposited 50.00 USD to account A000002. New balance: 50.00 USD.\nMiniBank> withdraw A000001 20\nWithdrew 20.00 USD from account A000001. New balance: 80.00 USD.\nMiniBank> transfer A000001 A000002 30\nTransferred 30.00 USD from A000001 to A000002.\nA000001 new balance: 50.00 USD.\nA000002 new balance: 80.00 USD.\nMiniBank> txs\nT000005: 2023-10-27T10:00:00Z | transfer | 30.00 USD | from A000001 to A000002\nT000004: 2023-10-27T10:00:00Z | withdraw | 20.00 USD | from A000001\nT000003: 2023-10-27T10:00:00Z | deposit  | 50.00 USD | to A000002\nT000002: 2023-10-27T10:00:00Z | deposit  | 0.00 USD | to A000002\nT000001: 2023-10-27T10:00:00Z | deposit  | 100.00 USD | to A000001\nMiniBank> save\nBank state saved to minibank.json\nMiniBank> quit\nSaving bank state to minibank.json...\nGoodbye!\n```\n\n### Running Tests\n\nThe project includes a comprehensive test suite written using `pytest` to ensure the reliability and correctness of the bank simulator's logic.\n\n1.  **Ensure `pytest` is installed:**\n    If you haven't already, install `pytest`:\n    ```bash\n    pip install pytest\n    ```\n\n2.  **Navigate to the project's root directory:**\n\n3.  **Run the tests:**\n    You can run all tests in the `test_files` directory using:\n\n    ```bash\n    pytest test_files/\n    ```\n\n    Alternatively, to run tests specifically from `test_bank_simulator.py`:\n\n    ```bash\n    pytest test_files/test_bank_simulator.py\n    ```\n\n    Upon successful execution, `pytest` will report all tests as passed."
}
```